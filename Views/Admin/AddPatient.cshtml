@model HealthProfilingSystem.Models.Patient
@{
    ViewBag.Title = "Add Patient";
}
<link rel="stylesheet" href="~/Content/loginstyle.css" type="text/css">

<div class="main">

    <div class="header">

    </div>
    <p style="color:green">@TempData["patientadded"]</p>

    <form method="post" action="/Admin/ConfirmAddPatient" enctype="multipart/form-data">

        <ul class="left-form">

            <li>
                @Html.TextBoxFor(model => model.Name, new { placeholder = "Full Name", required = "required" })
                <a href="#" class="icon ticker"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                @Html.TextBoxFor(model => model.NIC, new { placeholder = "NIC", required = "required" })
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                <input type="date" placeholder="Date Of Birth" name="DOB" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                <input type="text" placeholder="Domicile" name="Domicile" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                <input type="email" placeholder="Email" name="Email" required />
                <a href="#" class="icon ticker"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                <input type="text" placeholder="Phone Number" name="Phone" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                <input type="text" placeholder="Address" name="Address" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>

            <li>
                <input type="text" placeholder="Username" name="Username" id="Username" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <p id="green" style="color:green"></p>
            <p id="red" style="color:red"></p>
            <li>
                <input type="password" placeholder="Password" name="Password" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>
            <li>
                @Html.LabelFor(model => model.Image)
                <input type="file" name="Image" required />
                <a href="#" class="icon into"> </a>
                <div class="clear"> </div>
            </li>

            <input type="submit" onclick="" value="Add">
            <div class="clear"> </div>
        </ul>
    </form>

    <form>
        <ul class="right-form">

            <div class="clear"> </div>
        </ul>
        <div class="clear"> </div>

    </form>

    @Scripts.Render("~/bundles/jquery")
    <script>

        $(document).ready(function () {

            $('#red').hide();
            $('#green').hide();

            $('#Username').change(function () {

                $('#red').hide();
                $('#green').hide();
                var userName = $('#Username').val();
                $.getJSON("/Admin/CheckUserName?UserName=" + userName, function (data) {
                    if (data) {
                        $('#green').hide();
                        $('#red').show();
                        $('#red').text("Username already taken");
                    }
                    else {
                        $('#green').show();
                        $('#red').hide();
                        $('#green').text("Username available");
                    }
                });

            });

        });
    </script>

</div>


